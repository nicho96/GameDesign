package ca.nicho.server;

import java.io.IOException;
import java.net.ServerSocket;
import java.net.Socket;
import java.util.ArrayList;

import ca.nicho.client.SpriteSheet;

public class ServerStart {

	public static final int PORT = 1024;
	public static ArrayList<ServerGameSocket> cons = new ArrayList<ServerGameSocket>();
	
	public static void main(String[] s){
		SpriteSheet.initSprites();
		Game.initWorld();
		new ServerStart();
	}
	
	public ServerStart(){
		try {
			System.out.println("Starting server on port " + PORT + "...");
			ServerSocket socket = new ServerSocket(PORT);
			while(true){
				Socket con = socket.accept();
				ServerGameSocket gamCon = new ServerGameSocket(con);
				cons.add(gameCon)
				new Thread(gamCon).start();
			}
		} catch (IOException e) {
			e.printStackTrace();
		}
	}
	
}
