package ca.nicho.server;

import java.io.IOException;
import java.net.ServerSocket;
import java.net.Socket;

import ca.nicho.client.SpriteSheet;

public class ServerStart {

	public static final int PORT = 1024;
	public static int numCons = 0;
	public static ArrayList<ServerGameSocket> cons = new ServerGameSocket[4]; //Up to 4 players
	
	public static void main(String[] s){
		SpriteSheet.initSprites();
		Game.initWorld();
		new ServerStart();
	}
	
	public ServerStart(){
		try {
			System.out.println("Starting server on port " + PORT + "...");
			ServerSocket socket = new ServerSocket(PORT);
			while(true){
				Socket con = socket.accept();
				ServerGameSocket gamCon = new ServerGameSocket(con);
				cons[numCons++] = gamCon;
				new Thread(gamCon).start();
			}
		} catch (IOException e) {
			e.printStackTrace();
		}
	}
	
}
